macro include {-> <stdio.h> <-}

def showMessage()
  spawn {-> 
    printf("Hello, world!\n");
  <-}
end

spawn {->
  printf("before the function is called.\n");
<-}

call showMessage

spawn {->
  printf("back-stack working properly.\n");
<-}

spawn our {->
  return 0;
<-}